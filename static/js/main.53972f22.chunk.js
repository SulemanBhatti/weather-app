(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),s=a.n(r),i=(a(50),a(12)),o=a.n(i),l=a(14),u=a(8),j=a(24),d=a(6),b=a(2),h=function(e){return Object(b.jsxs)("div",{className:"WeatherCardListItem",children:[Object(b.jsxs)("div",{className:"WeatherTempLayout",children:[Object(b.jsx)("img",{className:"WeatherImg",src:e.icon,alt:"image"}),Object(b.jsxs)("strong",{className:"WeatherCardListing",children:[Object(b.jsx)("h1",{children:e.celsius}),Object(b.jsx)("p",{children:"\xb0C"})]}),Object(b.jsx)("p",{className:"WeatherCardListing",children:Object(b.jsxs)("h4",{children:["| Feel Like: ",e.feelsLike,"\xb0C"]})})]}),Object(b.jsx)("p",{children:e.description}),Object(b.jsxs)("p",{children:["Date: ",e.date]})]})},O=(a(53),function(e){var t=e.weatherForecast;return Object(b.jsx)("section",{className:"wrapper",children:Object(b.jsx)("div",{className:"WeatherCard",children:null===t||void 0===t?void 0:t.map((function(e,t){var a;return Object(b.jsx)(h,{celsius:e.day.avgtemp_c||"---",feelsLike:(null===(a=e.hour[0])||void 0===a?void 0:a.feelslike_c)||"---",icon:e.day.condition.icon||"---",date:e.date||"---",description:e.day.condition.text||"---"},t)}))})})}),p=a(20),f=(a(74),a(75),Object(p.d)({accessToken:"pk.eyJ1Ijoic3VsZW1hbi1haG1hZCIsImEiOiJja3ZlNzNuaXY0OWk1MzFscGNvZXZvOWFnIn0.82aTe4nGysydbvetD4hQOw"})),m=Object(d.f)((function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([e.match.params.longitude,e.match.params.latitude]),i=Object(u.a)(s,1)[0];return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){r([e.coords.longitude,e.coords.latitude])}))}),[]),Object(b.jsx)("div",{className:"CityMap",children:Object(b.jsxs)(f,{style:"mapbox://styles/mapbox/streets-v9",containerStyle:{height:"100vh",width:"100vw"},center:"user"===e.userLocation?c:i,zoom:[11],children:[Object(b.jsx)(p.b,{type:"symbol",id:"marker",layout:{"icon-image":"marker-15"}}),Object(b.jsx)(p.a,{coordinates:"user"===e.userLocation?c:i}),Object(b.jsx)(p.c,{coordinates:"user"===e.userLocation?c:i,anchor:"bottom",children:Object(b.jsx)("img",{src:"/images/mapbox-icon.png",className:"marker"})})]})})})),x=a(45),v=(a(81),function(e){var t=e.weatherForecast,a=Object(n.useState)({labels:["1","2","3","4","5"],datasets:[{label:"Weekly Weather Forecast",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[0,0,0,0,0]}]}),c=Object(u.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var e=null===t||void 0===t?void 0:t.map((function(e){return e.date})),a=null===t||void 0===t?void 0:t.map((function(e){return e.day.avgtemp_c}));s({labels:e,datasets:[{label:"Weekly Weather Forecast",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:a}]})}),[t]),Object(b.jsx)("div",{className:"WeatherLineGraph",children:Object(b.jsx)(x.a,{data:r,options:{title:{display:!0,text:"Average Rainfall per month",fontSize:20},legend:{display:!0,position:"right"}}})})}),g=(a(82),function(e){return e.link?Object(b.jsx)(j.b,{className:"button",to:e.link,children:e.label}):Object(b.jsx)("button",{className:"button",onClick:e.onClick,children:e.label})}),y=a(44),k=(a(83),function(e){var t=e.cities,a=e.getCity,c=Object(n.useState)({}),r=Object(u.a)(c,2),s=r[0],i=r[1];Object(n.useEffect)((function(){a(s)}),[s]);return Object(b.jsx)("div",{className:"InputDropdown",children:Object(b.jsx)(y.a,{className:"select",options:t,onChange:function(e){return function(e){i(e)}(e)},placeholder:"Islamabad"})})}),w=(a(98),function(e){return Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)("h3",{children:e.header})})}),C=Object(l.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=encodeURIComponent(JSON.stringify({country:{$exists:!0},location:{$exists:!0},name:{$exists:!0}})),e.next=3,fetch("https://parseapi.back4app.com/classes/Pakistancities_City?limit=150&order=country,name,location&keys=name,country,location&where=".concat(t),{headers:{"X-Parse-Application-Id":"KTx9m5W9R5WK1ZJtAlsHEKA8HG6CEd13Q4KUrdoU","X-Parse-REST-API-Key":"atZjkHhHtCy6JX6LbaCzj2iIZmbTNfPwY6mG634i"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))(),N=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.weatherapi.com/v1/history.json?key=fb24143f0b094065849152703213110&q=".concat(t.value?t.value:"Islamabad","&aqi=no&dt=2021-10-25&end_dt=2021-10-31&hour=0"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e){var t=e.cities,a=Object(n.useState)({}),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),j=Object(u.a)(i,2),d=j[0],h=j[1];Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(r);case 2:a=e.sent,h(null===a||void 0===a||null===(t=a.forecast)||void 0===t?void 0:t.forecastday);case 4:case"end":return e.stop()}}),e)}))),[r]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w,{header:"Weather Forecast for Cities"}),Object(b.jsx)(k,{cities:t,getCity:function(e){s(e)}}),Object(b.jsx)("br",{}),Object(b.jsx)(O,{weatherForecast:d}),Object(b.jsx)("br",{}),Object(b.jsx)(v,{weatherForecast:d}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(g,{link:"/city_map/".concat(r.latitude,"/").concat(r.longitude),label:"View city on map"})]})},I=(a(99),function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(b.jsxs)("div",{className:"MapScreen",children:[Object(b.jsx)(m,{userLocation:a}),Object(b.jsx)(g,{onClick:function(){c("user")},label:"Where am I?"})]})});a(100);var S=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(Object(l.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C;case 2:a=e.sent,n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.map((function(e){return{value:e.name,label:e.name,latitude:e.location.latitude,longitude:e.location.longitude}})),c(n);case 5:case"end":return e.stop()}}),e)}))),[]),Object(b.jsx)(j.a,{children:Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{path:"/city_map/:latitude/:longitude",children:Object(b.jsx)(I,{})}),Object(b.jsx)(d.a,{exact:!0,path:"/",children:Object(b.jsx)(W,{cities:a})})]})})})};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root"))},50:function(e,t,a){},53:function(e,t,a){},75:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.53972f22.chunk.js.map